<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="utf-8">
    <title>Plastic classifier | Circular Lab</title>
    <meta name="description" content="The plastic classifyer from the HAN Circular LAB ">
    <meta name="author" content="RP Boudewijn, ND Fikke, S Hezemans">
    <!-- <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- styles -->
    <style id="materializecss"></style>
    <script>
      async function setCss(){
        // check if localStorage has materializecss
        if (localStorage.getItem('CACHE_materializecss') === null) {
          // if not, load materializecss
          let request = await fetch(document.location.origin + '/css/materialize.min.css')
          let css = await request.text()
          // save materializecss to localStorage
          localStorage.setItem('CACHE_materializecss', css)
        }
        // set materializecss from localStorage
        document.getElementById('materializecss').innerHTML = localStorage.getItem('CACHE_materializecss');
      }

      setCss()
    </script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <body>
    <!---------------- HEADER ---------------->
    <nav class="orange darken-1">
      <div class="container nav-wrapper lighten-2">
        <a href="#!" class="brand-logo center">Plastics classifier</a>
        <a href="#" data-target="mobile-demo" class="sidenav-trigger show-on-medium-and-up"><i class="material-icons">menu</i></a>
      </div>
    </nav>
  
    <ul class="sidenav center-align" id="mobile-demo">
            <!-- Switch -->
          <li>
            <div class="switch streamcontainer ">
              <label class="black-text">
                Stream off
                <input type="checkbox" class="checkbox" data-id="stream">
                <span class="lever"></span>
                Stream on
              </label>
            </div>
          </li>
          <li>
            <div class="switch frameratecontainer">
              <label class="black-text">
                Low framerate
                <input type="checkbox" class="checkbox" data-id="framerate">
                <span class="lever"></span>
                High framerate
              </label>
            </div>
          </li>
    </ul>
    <!---------------- END HEADER ---------------->
    <!---------------- MAIN ---------------->

    <!-- container with a flex box and two sides. One for the stream, one ul list with the last classifications -->
    <br><br>
    <div class="container">
      <div class="row">
        <div class="col s12 m6" id="stream">
          <div class="card">
            <div class="card-image">
              <img  src="api/classifications/latest/image" alt="stream" id="image-stream">
            </div>
          </div>
        </div>
        <div class="col s12 m6">
          <div class="card">
            <div class="card-content">
              <span class="card-title">Last classifications</span>
              <div class="card-panel black white-text" style="max-height: 45vh; overflow: scroll; display: flex; flex-direction: column-reverse;">
                <!-- terminal input easter egg -->
                <div class="input-field" style="margin: 0 ">
                  <input id="command" type="text" class="validate white-text" style="margin:0">
                </div>
                <!-- end terminal input easter egg -->
                <code id="lastClassifications" >
                  <p>No classifications yet</p>
                </code>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
    




    <!---------------- END MAIN ---------------->
    <!---------------- FOOTER ---------------->
    <!---------------- END FOOTER ---------------->

    





    <!-- scripts -->
    <script id="materializejs"></script>

    <script>
      async function setJS(){
        // check if localStorage has materializejs
        if (localStorage.getItem('CACHE_materializejs') === null) {
          // if not, load materializejs
          let request = await fetch(document.location.origin + '/js/materialize.min.js')
          let js = await request.text()
          // save materializejs to localStorage
          localStorage.setItem('CACHE_materializejs', js)
        }
        // set materializejs from localStorage
        document.getElementById('materializejs').innerHTML = localStorage.getItem('CACHE_materializejs');
      }

      setJS()
    </script>
    <script src="js/script.min.js"></script>
  </body>
</html>

